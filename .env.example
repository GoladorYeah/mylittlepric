# ═══════════════════════════════════════════════════════════
# MyLittlePrice - Main Configuration
# Copy this file to .env and fill in your values
# ═══════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────
# 🔐 SECURITY - CHANGE THESE IN PRODUCTION!
# ─────────────────────────────────────────────────────────────

# JWT Secrets (generate with: openssl rand -hex 32)
JWT_ACCESS_SECRET=0639022e768b577e270d72389f944cb9b0fa61b634ef6071d29cf092d921daf9
JWT_REFRESH_SECRET=703f93d6e708bb5cc185f302bd83a12ac884bbb56c48dccff0f5ff1eccf4b25e

# Database & Redis Passwords
POSTGRES_PASSWORD=postgres
REDIS_PASSWORD=

# ─────────────────────────────────────────────────────────────
# 🤖 REQUIRED API KEYS
# ─────────────────────────────────────────────────────────────

# Gemini API Keys (get from: https://makersuite.google.com/app/apikey)
# Multiple keys separated by comma for rotation
GEMINI_API_KEYS=AIzaSyBmlbvdPnmpQQV8rrCkPahMZLdEycK8830

# SERP API Keys (get from: https://serpapi.com/)
# Multiple keys separated by comma for rotation
SERP_API_KEYS=10f08f3639a72a7bbf102195981444376f7b1d044bcf40a6ef0f716d16422603

# ─────────────────────────────────────────────────────────────
# 🌐 DOMAINS & PORTS
# ─────────────────────────────────────────────────────────────

# Frontend URL (where users access your site)
FRONTEND_URL=http://localhost:3000

# Backend URL (API endpoint)
BACKEND_URL=http://localhost:8080

# CORS Allowed Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# Service Ports
BACKEND_PORT=8080
FRONTEND_PORT=3000

# ─────────────────────────────────────────────────────────────
# 🗄️ DATABASE
# ─────────────────────────────────────────────────────────────

POSTGRES_DB=mylittleprice
POSTGRES_USER=postgres
# POSTGRES_PASSWORD - see Security section above

# ─────────────────────────────────────────────────────────────
# 📦 REDIS
# ─────────────────────────────────────────────────────────────

REDIS_URL=localhost:6379
# REDIS_PASSWORD - see Security section above
REDIS_DB=0

# ─────────────────────────────────────────────────────────────
# ⚙️ APPLICATION SETTINGS
# ─────────────────────────────────────────────────────────────

# Environment: development | production
ENV=production

# Session Settings
SESSION_TTL=86400                    # 24 hours in seconds
MAX_MESSAGES_PER_SESSION=8           # Spam protection
MAX_SEARCHES_PER_SESSION=3           # Cost control

# JWT Token Lifetimes (seconds)
JWT_ACCESS_TTL=900                   # 15 minutes
JWT_REFRESH_TTL=604800               # 7 days

# Cache TTL (seconds)
CACHE_GEMINI_TTL=3600               # 1 hour
CACHE_SERP_TTL=86400                # 24 hours
CACHE_IMMERSIVE_TTL=43200           # 12 hours

# Gemini Settings
GEMINI_MODEL=gemini-2.5-flash-preview-09-2025
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_OUTPUT_TOKENS=1100
GEMINI_USE_GROUNDING=true
GEMINI_GROUNDING_MODE=balanced      # conservative | balanced | aggressive

# Default Locale
DEFAULT_COUNTRY=CH
DEFAULT_LANGUAGE=en

# ═══════════════════════════════════════════════════════════
# 📝 QUICK START
# ═══════════════════════════════════════════════════════════
#
# 1. Copy this file: cp .env.example .env
# 2. Add your API keys (GEMINI_API_KEYS and SERP_API_KEYS)
# 3. Change JWT secrets for production
# 4. Run: docker-compose up -d
#
# That's it! 🎉
# ═══════════════════════════════════════════════════════════

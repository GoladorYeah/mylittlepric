<mat-toolbar class="bg-card border-b border-border">
  <div class="w-full max-w-7xl mx-auto flex items-center justify-between px-4">
    <!-- Logo -->
    <div class="flex items-center gap-3">
      <a routerLink="/" class="flex items-center gap-2 text-foreground hover:text-primary transition-colors no-underline">
        <mat-icon class="text-primary">shopping_cart</mat-icon>
        <span class="font-bold text-lg">MyLittlePrice</span>
      </a>
    </div>

    <!-- Navigation -->
    <nav class="hidden md:flex items-center gap-2">
      <a routerLink="/chat" mat-button class="text-foreground hover:text-primary">
        <mat-icon>chat</mat-icon>
        <span>Chat</span>
      </a>
    </nav>

    <!-- Actions -->
    <div class="flex items-center gap-2">
      <!-- Theme Toggle -->
      <app-theme-toggle />

      <!-- Auth -->
      @if (authStore.isAuthenticated()) {
        <button mat-icon-button [matMenuTriggerFor]="userMenu">
          @if (authStore.userPicture()) {
            <img
              [src]="authStore.userPicture()!"
              [alt]="authStore.userName() || 'User'"
              class="w-8 h-8 rounded-full"
            />
          } @else {
            <mat-icon>account_circle</mat-icon>
          }
        </button>
        <mat-menu #userMenu="matMenu">
          <div class="px-4 py-2 border-b border-border">
            <p class="font-semibold text-foreground">{{ authStore.userName() }}</p>
            <p class="text-xs text-muted-foreground">{{ authStore.userEmail() }}</p>
          </div>
          <button mat-menu-item (click)="onLogout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      } @else {
        <button mat-flat-button color="primary" (click)="onLogin()">
          Sign in
        </button>
      }
    </div>
  </div>
</mat-toolbar>

@if (images().length === 0) {
  <div class="aspect-square bg-muted rounded-xl flex items-center justify-center">
    <span class="text-muted-foreground">No image available</span>
  </div>
} @else {
  <div class="space-y-4">
    <!-- Main Image -->
    <div class="relative aspect-square bg-muted rounded-xl overflow-hidden">
      <img
        [src]="getCurrentImage()"
        [alt]="title()"
        class="w-full h-full object-cover"
      />

      @if (images().length > 1) {
        <!-- Previous Button -->
        <button
          mat-icon-button
          (click)="prevImage()"
          [disabled]="currentIndex() === 0"
          class="absolute left-2 top-1/2 -translate-y-1/2 !w-10 !h-10 !rounded-full bg-background/80 backdrop-blur-sm hover:bg-background disabled:opacity-50 transition-all"
          aria-label="Previous image"
        >
          <mat-icon>chevron_left</mat-icon>
        </button>

        <!-- Next Button -->
        <button
          mat-icon-button
          (click)="nextImage()"
          [disabled]="currentIndex() === images().length - 1"
          class="absolute right-2 top-1/2 -translate-y-1/2 !w-10 !h-10 !rounded-full bg-background/80 backdrop-blur-sm hover:bg-background disabled:opacity-50 transition-all"
          aria-label="Next image"
        >
          <mat-icon>chevron_right</mat-icon>
        </button>
      }
    </div>

    <!-- Thumbnail Navigation -->
    @if (images().length > 1) {
      <div class="flex gap-2 overflow-x-auto pb-2">
        @for (img of images(); track $index) {
          <button
            (click)="selectImage($index)"
            [class]="'flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ' + (currentIndex() === $index ? 'border-primary' : 'border-border')"
            [attr.aria-label]="'View image ' + ($index + 1)"
          >
            <img
              [src]="img"
              [alt]="title() + ' ' + ($index + 1)"
              class="w-full h-full object-cover"
            />
          </button>
        }
      </div>
    }
  </div>
}
